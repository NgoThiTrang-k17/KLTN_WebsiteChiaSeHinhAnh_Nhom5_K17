<nav class="navbar navbar-expand navbar-light bg-white">
    <div class="navbar-brand"><i class="fa fa-pinterest fa-2x text-danger"></i></div>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link bold btn btn-dark text-white nav-btn" href="#">Trang chủ<span
                        class="sr-only">(current)</span></a>
            </li>
            <li class="ml-3 mr-3 nav-item mt-1">
                <div id="search-box" class="input-group">
                    <div class="input-group-prepend">
                        <span id="search"><i class="fa fa-search" aria-hidden="false"></i></span>
                    </div>
                    <input id="search-form" (keydown.enter)="save($event)" class="form-control" style="width: 1000px;" type="text" placeholder="Tìm kiếm" aria-label="Search">
                </div>
            </li>
            <!-- <li class="nav-item">
                <a class="nav-link bold btn nav-btn" (click)="logout()">Đăng xuất</a>
            </li> -->
        </ul>
        <div class="d-flex justify-content-end mr-3">
            <div class="navbar-nav" dropdown [insideClick]="true">
                <div class="nav-item dropdown br-xam text-center" style="width: 400px,"> 
                    <a (click)="getNotification(maccount.id)" class="nav-link dropdown-toggle" data-toggle="dropdown" dropdownToggle>
                        <i class="fa fa-bell mt-1" style="font-size:x-large;"></i>
                        <!-- <svg class="gUZ B9u U9O kVc" height="24" width="24" viewBox="0 0 24 24" aria-hidden="true" aria-label="" role="img"><path d="M12 24c-1.66 0-3-1.34-3-3h6c0 1.66-1.34 3-3 3zm7-10.83c1.58 1.52 2.67 3.55 3 5.83H2c.33-2.28 1.42-4.31 3-5.83V7c0-3.87 3.13-7 7-7s7 3.13 7 7v6.17z"></path></svg> -->
                        <span class="badge rounded-pill bg-danger" style="position: absolute;"></span>
                    </a>
                    <ul class="dropdown-menu dropdownNotification dropdown-menu-right shadow-sm rounded-lg" *dropdownMenu>
                        <li class="text-center mb-3" style="font-weight: bold; font-size: 20px;">Thông báo</li>
                        <div id="1" *ngFor="let notification of notifications">
                            <li id="1" *ngIf="notification.notificationType==0 && notification.actionOwnerId!=maccount.id" (click)="updateNotification(notification.id)" class="dropdown-item" routerLink="detail-post/{{notification.postId}}/{{notification.actionOwnerId}}" routerLinkActive="active">
                                <div class="row" style="justify-content: center; align-items: center; display: flex;">
                                    <div class="col-2">
                                        <img *ngIf="notification.actionOwnerAvatarPath==null" (click)="updateNotification(notification.id)" class="card rounded-circle" style="height: 40px; width: 41px;" src="../../assets/images/default-profile.png">
                                        <img *ngIf="notification.actionOwnerAvatarPath!=null" (click)="updateNotification(notification.id)" class="card rounded-circle" style="height: 40px; width: 41px;" [src]="notification.actionOwnerAvatarPath"> 
                                    </div>
                                    <div class="col-8">
                                        <p (click)="updateNotification(notification.id)" style="width:190px; display:block; white-space: normal; word-break: break-word"><strong>{{notification.actionOwnerName}}</strong> đã thêm bài viết mới</p>
                                    </div> 
                                    <div class="col-2">
                                        <button *ngIf="notification.status==0" class="btn"><i class="fa fa-circle text-primary" style="font-size:small;"></i></button>
                                    </div>
                                </div>                              
                            </li>
                            <li id="1" *ngIf="notification.notificationType==1 && notification.actionOwnerId!=maccount.id" (click)="updateNotification(notification.id)" class="dropdown-item" routerLink="detail-post/{{notification.postId}}/{{notification.actionOwnerId}}" routerLinkActive="active">
                                <div class="row" style="justify-content: center; align-items: center; display: flex;">
                                    <div class="col-2">
                                        <img *ngIf="notification.actionOwnerAvatarPath==null" class="card rounded-circle" style="height: 40px; width: 41px;" src="../../assets/images/default-profile.png">
                                        <img *ngIf="notification.actionOwnerAvatarPath!=null" class="card rounded-circle" style="height: 40px; width: 41px;" [src]="notification.actionOwnerAvatarPath"> 
                                    </div>
                                    <div class="col-8">
                                        <p style="width:190px;white-space: normal;word-break: break-word"><strong>{{notification.actionOwnerName}}</strong> đã thích bài viết của bạn</p>
                                    </div> 
                                    <div class="col-2">
                                        <button *ngIf="notification.status==0" class="btn"><i class="fa fa-circle text-primary" style="font-size:small;"></i></button>
                                    </div>
                                </div>                              
                            </li>
                            <li id="1" *ngIf="notification.notificationType==2 && notification.actionOwnerId!=maccount.id" (click)="updateNotification(notification.id)" class="dropdown-item" routerLink="detail-post/{{notification.postId}}/{{notification.actionOwnerId}}" routerLinkActive="active" >
                                <div class="row" style="justify-content: center; align-items: center; display: flex;">
                                    <div class="col-2">
                                        <img *ngIf="notification.actionOwnerAvatarPath==null" class="card rounded-circle" style="height: 40px; width: 41px;" src="../../assets/images/default-profile.png">
                                        <img *ngIf="notification.actionOwnerAvatarPath!=null" class="card rounded-circle" style="height: 40px; width: 41px;" [src]="notification.actionOwnerAvatarPath"> 
                                    </div>
                                    <div class="col-8">
                                        <p style="width:190px;white-space: normal;word-break: break-word"><strong>{{notification.actionOwnerName}}</strong> đã bình luận bài viết của bạn</p>
                                    </div> 
                                    <div class="col-2">
                                        <button *ngIf="notification.status==0" class="btn"><i class="fa fa-circle text-primary" style="font-size:small;"></i></button>
                                    </div>
                                </div>                              
                            </li>
                            <li id="1" *ngIf="notification.notificationType==3 && notification.actionOwnerId!=maccount.id" (click)="updateNotification(notification.id)" class="dropdown-item" routerLink="detail/{{notification.actionOwnerId}}" routerLinkActive="active">
                                <div class="row" style="justify-content: center; align-items: center; display: flex;">
                                    <div class="col-2">
                                        <img *ngIf="notification.actionOwnerAvatarPath==null" class="card rounded-circle" style="height: 40px; width: 41px;" src="../../assets/images/default-profile.png">
                                        <img *ngIf="notification.actionOwnerAvatarPath!=null" class="card rounded-circle" style="height: 40px; width: 41px;" [src]="notification.actionOwnerAvatarPath"> 
                                    </div>
                                    <div class="col-8">
                                        <p style="width:190px;white-space: normal;word-break: break-word"><strong>{{notification.actionOwnerName}}</strong> đã theo dõi bạn</p>
                                    </div> 
                                    <div class="col-2">
                                        <button *ngIf="notification.status==0" class="btn"><i class="fa fa-circle text-primary" style="font-size:small;"></i></button>
                                    </div>
                                </div>                              
                            </li>
                        </div>                        
                    </ul>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-end mr-3">
            <div class="navbar-nav" dropdown [insideClick]="true">
                <div class="nav-item dropdown br-xam text-center" style="width: 350px,"> 
                    <a (click)="getNotification(maccount.id)" class="nav-link dropdown-toggle" data-toggle="dropdown" dropdownToggle>
                        <i class="fa fa-comment mt-1" style="font-size:x-large;"></i>
                        <!-- <svg class="Hn_ gUZ B9u U9O kVc" height="24" width="24" viewBox="0 0 24 24" aria-hidden="true" aria-label="" role="img"><path d="M18 12.5a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 18 12.5m-6 0a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 12 12.5m-6 0a1.5 1.5 0 1 1 .001-3.001A1.5 1.5 0 0 1 6 12.5M12 0C5.925 0 1 4.925 1 11c0 2.653.94 5.086 2.504 6.986L2 24l5.336-3.049A10.93 10.93 0 0 0 12 22c6.075 0 11-4.925 11-11S18.075 0 12 0"></path></svg> -->
                        <span class="badge rounded-pill bg-danger" style="position: absolute;"></span>
                    </a>
                    <ul class="dropdown-menu dropdownNotification dropdown-menu-right shadow-sm rounded-lg" *dropdownMenu>
                        <li class="text-center mb-3" style="font-weight: bold; font-size: 20px;">Hộp thư đến</li>                      
                    </ul>
                </div>
            </div>
        </div>
        <!-- <div class="nav-item">
            <a routerLink="profile" routerLinkActive="active" class="nav-item">
                <img *ngIf="account.avatarPath==null" class="card rounded-circle" style="height: 30px; width: 30px;" src="../../assets/images/default-profile.png">
                <img *ngIf="account.avatarPath!=null" class="card rounded-circle" style="height: 30px; width: 30px;" [src]="createImgPath(account.avatarPath)">
            </a>
        </div> -->
        <!-- <div class="nav-item"> <a routerLink="/profile" routerLinkActive="active" class="nav-item"><i class="fa fa-user fa-2x"></i></a></div> -->
        <div class="nav-item mr-4">
            <div class="navbar-nav" dropdown [insideClick]="true">
                <div class="nav-item dropdown br-xam "> 
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" dropdownToggle>
                        <img *ngIf="maccount.avatarPath==null" class="card rounded-circle" style="height: 35px; width: 36px;" src="../../assets/images/default-profile.png">
                        <img *ngIf="maccount.avatarPath!=null" class="card rounded-circle" style="height: 35px; width: 36px;" [src]="maccount.avatarPath">        
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right" *dropdownMenu>
                        <li routerLink="detail/{{maccount.id}}" class="dropdown-item nav-link btn" style="text-align: left;">Trang cá nhân <!--<i class="fa fa-cogs"></i>--></li>
                        <!-- <li *ngIf="account.role === admin" ></li> -->
                        <li (click)="logout()" class="dropdown-item nav-link">Đăng xuất</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item nav-link">Home</a> -->
        <!-- <a routerLink="/profile" routerLinkActive="active" class="nav-item nav-link">Profile</a>
        <a *ngIf="account.role === Role.Admin" routerLink="/admin" routerLinkActive="active" class="nav-item nav-link">Admin</a>
        <a (click)="logout()" class="nav-item nav-link">Logout</a> -->
    </div>
</nav> 
<div class="p-4 mt-5">
    <div *ngIf="!search" style="margin-left: 30px; margin-right: 30px;">
        <router-outlet></router-outlet>
    </div>
    <div *ngIf="search" style="margin-left: 30px; margin-right: 30px;">
        <div *ngIf="!searchAccount" class="item card-columns">
            <div id="1" *ngFor="let post of posts">
              <a routerLink="detail-post/{{post.id}}/{{post.ownerId}}" class="text-dark card-link" id="1">
                <div class="card btn-outline-white">
                  <img class="card-img-top img-fluid" [src]="post.path" alt="Card image cap">
                  <p class="card-title" style="margin: 5px 5px 5px 5px; font-size:15px;"><strong>{{post.title}}</strong></p>
                </div> 
              </a>
            </div> 
            <div *ngIf="posts==0">
                <p>Không có kết quả phù hợp.</p>
            </div> 
        </div>
        <div *ngIf="searchAccount">
            <div id="1" *ngFor="let account of accounts">
                <div class="container mt-3" style="width: 60%;">
                    <div class="card shadow-lg mb-3" style="width: 90%;" id="1">
                        <div class="row ml-3 mr-3 mt-3 mb-3" style="justify-content: center; align-items: center; display: flex;">
                            <div class="col-lg-2 text-center">
                                <img
                                    *ngIf="account.avatarPath==null"
                                    src="../../assets/images/default-profile.png"
                                    style="height: 60px; width: 61px;" class="img-fluid rounded-circle" alt="">
                                <img
                                    *ngIf="account.avatarPath!=null"
                                    [src]="account.avatarPath"
                                    style="height: 60px; width: 61px;" class="img-fluid rounded-circle" alt="">
                            </div>
                            <div class="col-lg-7">
                                <a href="" class="btn" routerLink="detail/{{account.id}}"><strong>{{account.name}}</strong></a>
                                <p style="font-size: small; margin-left: 4%;">{{account.followerCount}} người theo dõi</p>
                            </div> 
                            <div class="col-lg-3">
                                <button *ngIf="account.isFollowedByCurrentUser==0" (click)="onCreateFollow(account.id)" class="btn btn-light rounded-pill">Theo dõi</button>
                                <button *ngIf="account.isFollowedByCurrentUser!=0" (click)="unFollow(account.id)" class="btn btn-danger rounded-pill">Đã theo dõi</button>
                            </div>
                        </div>              
                    </div>
                </div>               
            </div> 
            <div *ngIf="accounts==0">
                <p>Không có kết quả phù hợp.</p>
            </div>         
        </div>
    </div>
</div>